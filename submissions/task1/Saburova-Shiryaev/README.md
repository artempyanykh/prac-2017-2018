# Антагонистическая игра
 
## Решение

В математическом смысле игрой называется тройка <A, B, C>, где A = {A1, ..., An} и B = {B1, ..., Bn} это множества стратегий первого и второго игроков, а C - это функция выигрыша. Матрица С, в которой строки соответсвуют стратегиям игрока А, а столбцы стратегиям игрока В, а элементами c(i, j) матрицы являются результаты игры при i-й стратегии игрока A и j-й стратегии игрока B, называется матрицей выигрышей.
В нашей задаче мы рассматриваем матричные антогонистические игры, т.е. конечные игры с 2 соперниками и нулевой суммой (весь проигрыш одного игрока является выигрышем другого). Под решением матричной игры подразумевается найти значение игры и оптимальные стратегии для обоих игроков. 

1. Приводим матрицу к удобному для нас виду.
Если в матрице выигрышей присутствуют отрицательные числа, то вычитая наименьшее из чисел матрицы из всех элементов матрицы мы получаем неотрицательную матрицу.

2. Пробуем найти решение матричной игры в чистых стратегиях.
Решение в чистых стратегиегиях подразумевает нахождение в матрице выигрышей седловой точки.
Седловой точкой матрицы (c(i,j)) размера m на n называется такая пара (i0,j0), что для любых i=1, ..., n и j=1, ...,n выполнено c(i,j0)<= c(i0,j0) <= c(i0,j), таким образом элемент c(i0,j0) является одновременно максимальным в своем столбце и минимальным в своей строке.
При решении матричной игры используется принцип минимакса, т.е. для каждой строки мы находим свой минимум(min), а затем выбираем максимум среди найденных значений(maxmin). А для каждого столбца мы находим максимум(max), а затем выбираем минимум из этих значений(minmax). Если maxmin = minmax = M, тогда, перебирая строки и столбцы, в которых min = M и max = M, соответственно, находим седловую точку.

Если оказалось, что maxmin не равен minmax, тогда находим решение в смешанных стратегиях.
3. Нахождение решения в смешанных стратегиях.
Нахождение решения в смешанных стратегиях подразумевает нахождение векторов (p1, ..., pn) и (q1, ..., qm), где pi>=0, i=1,...,n; qj>=0, j=1,...,m и p1+...+pn=1; q1+...+qm=1, т.е. вероятности, с которыми мы выбираем ту или иную стратегию. Для того, чтобы найти решение в смешанных стратегиях используем функцию linprog, которая с помощью симплекс-метода находит искомое решение.

4. Визуализация решения.
С помощью функции draw_plot визуализируем найденое решение на графиках. 

5. Следуя заданию, показали работу программы на трех примерах: 
a) Достигается равновесие по Нешу;
б) Спектр стратегий не полон;
в) Спектр стратегий полон. 

Основная функция **nash_equilibrium(A)** получает на вход матрицу выигрышей.
 
Данная функция ищет значения седловых точек. Если эта точка единственная, то она и есть решение, иначе решаем задачу в смешанных стратегиях, сводим решение матричной игры к паре двойственных задач линейного программирования и решаем с помощью **linprog** из модуля **SciPy**.
 
Функция возвращает значение игры и векторы оптимальных стратегий для первого и второго игрока.
 
Далее с помощью модуля языка Python **matplotlib**, визуализируем спектры стратегий игроков. На графиках отображаются вероятности принять ту или иную стратегию.

Используемые при реализации функции:
-where(поиск значения в матрице), zeros(заполнение массива нулями), min, max, shape(размерность), sum, array(создание массива) из модуля numpy.
-draw_plot отображает на графике стретегию игрока, принимает вектор стратегии.
-solve_and_visualise вызвает внутри себя nash_equilibrium и draw_plot.
-xlim, ylim из matplotlib.pyplot устанавливают пределы осей для графика.
-plot из модуля pyplot - линия графика по двум точкам, принимает вектор x-ов и вектор y-ов двух точек.
-scatter из pyplot - рисует точку - вероятность принятия i-ой стратегии. Принимает х и у.

## Необходимое ПО:
**Jupyter Notebook**, библиотеки **NumPy**, **SciPy**, **matplotlib** для Python
 
## Инструкция по запуску:
В терминале Ubuntu запускаем **jupyter notebook**, выбираем файл task-1.ipynb и запускаем его.
 
## Студенты выполнившие задание
*Сабурова Анна* и *Ширяев Павел*, 312 группа
 
Все этапы работы были выполненны совместно.
